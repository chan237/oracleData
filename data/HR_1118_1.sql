CREATE OR REPLACE FUNCTION GET_DEPARTMENT_NAME_FUNC(VDEPARTMENT_ID EMPLOYEES.DEPARTMENT_ID%TYPE) 
RETURN VARCHAR2
IS
    VDEPARTMENT_NAME VARCHAR2(100); 
    VCOUNT NUMBER := 0; 
BEGIN
    -- 해당부서의 카운트를 체크
    SELECT COUNT(*)INTO VCOUNT FROM EMPLOYEES WHERE DEPARTMENT_ID = VDEPARTMENT_ID; 

    IF(VCOUNT = 0)THEN
        VDEPARTMENT_NAME := '해당부서없음';
    ELSE
        SELECT DEPARTMENT_NAME INTO VDEPARTMENT_NAME FROM DEPARTMENTS WHERE DEPARTMENT_ID = VDEPARTMENT_ID;
    END IF; 
    RETURN VDEPARTMENT_NAME;
END;
/

